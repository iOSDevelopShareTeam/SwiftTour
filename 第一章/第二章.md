# Swift语言开发指南
## 基础部分
Swift是一门新的开发语言，它可以在iOS、macOS watchOS以及tvOS系统环境下进行应用的开发。

Swift提供了它自己的`C`和`Objective-C`语言的所有基本数据类型。包括用于描述整数的Int，描述浮点型的`Double`和`Float`，描述布尔值的`Bool`以及描述文本数据的`String`。Swift也提供了三个主要的集合类型。比如集合类型中描述的的数组、集合、和字典。

和C语言一样，Swift用变量来存储和引用一个已经被声明过名字的值。Swift同样能够使用不可变数据类型的值。这些不能改变的值被称为常量，它比C语言中的常量更加强大。当你在使用不可变的值的时候，常量能够使你的代码变得安全整洁。

除了一些熟悉的类型之外，Swift还提供了`Objective-C`没有的高级类型，比如说：元组。元组能够让你创创建和传递一组数据。函数中返回多个值的时候你可以用元组作为单个复合值来接收。

Swift也提供了一些可选类型，它能够处理值缺失的情况。可选值的意思是说：这里有一个值，它等于`X`或者`它没有值`。使用可选类型的之后就像使用`Objective-C`中的空指针一样，但是它的使用不仅仅局限于类，可以是任意类型。和`Objective-C`中的空指针相比来说，可选类型可不仅仅是安全和更具表现力那么简单，它们是Swift最强大功能中的核心。

Swift是一门安全类型的语言。这意味着这门语言可以帮你弄明白你所使用的值是什么类型的。如果你的代码中需要的是`String`,当你用`Int`来给它赋值的时候，类型安全会阻止你这么做。同样的，如果你意外的将可选字符串传递给非可选字符串那么类型安全会阻止你这么做。类型安全可以帮你在开发过程中尽早的捕获和修正错误。

###  常量和变量

常量和变量都需要用一个别名(比如说`maximumNumberOfLoginAttempts`或者`welcomeMessage`)以及一个特殊的数据类型的值(比如说数字`10`和字符串`hello`)来来进行关联.常量的值一旦被初始化设置了之后就不能发生改变了，而变量则可以在未来给它赋不同的值。
### 常量和变量的声明
常量和变量在使用之前都是要经过声明的。你可以用关键词`let`来修饰一个常量，用`var`关键词来修饰一个变量。下面的例子是通过对常量和变量的使用来模拟一个用户尝试登录次数的场景。
```
let maximumNumberOfLoginAttempts = 10
var currentLoginAttempts  = 0
```
这段代码可以被解读为：
声明一个新的名字为`maximumNumberOfLoginAttempts`的常量，它的值为10。然后声明一个新的名为`currentLoginAttempts`的变量，它的初始值为0.
在这个例子中，最大允许尝试登录次数被声明为一个常量，因为最大的尝试登录次数不能被修改。当前的尝试登录次数被声明为一个变量，因为这个次值会随着尝试登录失败的次数的增加而增加。
你可以连续声明几个常量或者变量在同一行中，他们之间用逗号隔开。
```
var x = 0.0,y = 0.0,z = 0.0
```
注意：
如果你的代码中使用的值是不会发生改变的那么用`let`关键字来声明。如果声明的值是需要发生改变的那么用`var`关键字来声明。
### 类型标注
在声明常量和变量的时候你可以为它提供一个类型标注，它可以很清楚的告诉编辑器常量和变量以什么样的数据类型被存储。在常量和变量添加类型标注的时候在命名之后加一个冒号以以及空格，然后加上类型的名称。

下面的这个例子里给出一个叫做`welcomeMessage`变量的类型标注，它表明了这个变量被存储为一个`String`类型的值。
```
var welcomeMessage: String
```
在声明的时候冒号的意思是“...类型的”，因此上面的代码可以这样来理解：

声明一个类型为`String`的变量`welcomeMessage`。

类型字符串的意思是可以存储任意值的字符串，可以把它理解为有存储功能的"事物类型"。

变量`welcomeMessage`可以被赋值为任意的字符串而不报错。
```
welcomeMessage = "Hello"
```
你可以在一行定义多个同一种类型的变量，用逗号隔开在最后一个变量后面添加冒号和类型标注。
```
var red,green,blue:Double
```
注意：
在实际开发中我们很少需要给常量/变量来写类型标注，如果在定义常量/变量的时候给了一个初始值，那么Swift可以帮我们推断出常量/变量的类型。具体请参考`类型和安全判断`。在上面定义的变量`welcomeMessage`中，我们没有给它赋初值，因此变量`welcomeMessage`的类型是从类型标注里判断的，而不是从它初始值判断的。
### 常量和变量的命名
常量和变量的名字可以包含任意字符串，当然也包括了`Unicode`
字符。
```
let π = 3.14159
let 你好 = "你好世界"
let 🐶🐂 = "dogcow"
```
常量和变量的命名不能包含空格字符，数学符号，箭头，保留的(或者非法的)Unicode码位，连线与制表符。也不能够用数字开头，尽管数字可能在名称的其他地方可以使用。

一旦你为常量和变量声明一个确定的类型之后，你不能够再声明一个相同名字类型的常量/变量，并且也不能够改变它所存储的类型，当然你也不能够对常量和变量的互换操作。

注意：
如果你需要使用和Swift保留关键字相同的名称作为常量和变量名。你可以使用关键字反引号(`)将关键字包起来作为它的名字，不到万不得已的时候，建议你不要使用关键字来作为常量和变量的名字。

你可以改变一个变量的值为另外一种相同类型的值，在下面的例子中，`friendWelcome`的值从`hello！`变为`Bonjour!`。
```
var friendWelcome = "hello !"
friendWelcome = "Bonjour ！"
// friendWelcome  is now "Bonjour！"
```
和变量不同的是常量在初始化设置以后就不能够发生改变了。当你改变常量值的时候，编译器会报错。
```
let languageName = "Swift"
languageName = "c++"
//Cannot assign to value: 'languageName' is a 'let' constant
// 这里是一个编译错误，languageName 不能够被改变.
```
### 打印出常量和变量

你可以用`print(_:separator:terminator:) `这个函数打印出常量和变量的当前值。
```
print(friendWelcome)
// 打印出 friendWelcome 的值
```
` print(_:separator:terminator:)`函数是一个在全局的指定区域打印出一个甚至更多值的的函数。例如在Xcode里面，`print(_:separator:terminator:)`是在xcode的控制台输出的。`separator`和`terminator`参数都有默认值，因此你当你调用函数的时候可以省略掉它们。函数默认通过换行符来结束当前行。如果不想换行，可以默认添加一个空的字符串来代替，例如：`print(someValue, terminator: "").`如果想了解更多关于参数的信息，可以查看[默认参数](https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Functions.html#//apple_ref/doc/uid/TP40014097-CH10-ID169)。

Swift用字符串插值的方式把常量名和变量名当做占位符加入到长字符串中，Swift会把常量和变量的值替换掉这些占位符。把常量和变量名放到括号里面,并在括号前面加上反斜杠来转义。

```
print("The currenct value of firendlyWelcome is \(friendWelcome)")
// 打印出当前firendlyWelcome的值
```
注意：
字符串插值所有能用的选项在[这里](https://docs.swift.org/swift-book/LanguageGuide/StringsAndCharacters.html#ID292)能找到。
### 注释

把你代码里不用执行的文本用打上注释作为注解或者一个标记来提醒你自己。在swift中，编译器会忽略掉注释的编译。

在swift中注释和在c语言的注释十分相似。单行的注释用`//`来表示。
```
// This is a comment.
```
多行注释以`/*`开始，以`*/`结尾。

```
/*
 This is also a comment.
 but is written over multiple lines. 
 */
```
和C语言中多行注释不同的是，swift中多行注释是可以进行嵌套的。你可以写一个嵌套的多行注释用`/*`开始 ，然后添加第二个多行注释以`/*`开始以`*/`结束。最后用`*/`来结束第一个多行注释。
```
/* This is the start of the first multiline comment.
 /* This is the second,nested multiline comment. */
 This is the end of the first mulitiline comment.*/
```

注释的多行嵌套使得你在注释大量代码块的时候更加便捷和容易，即使代码里已经存在多行注释也没有影响。

### 分号
和其他编程语言不同的是，在swift中，在代码的结尾，不需要你写分号(;)当然，你也可以按照你的习惯来添加分号。有一种情况是必须要添加分号的，那就是在一行中执行多个语句

```
let cat = "🐱";print(cat)
// print "🐱"
```
### 整数
整数就是没有小数的数字，比如说：42和-23.整数可以是有符号的类型(正数，负数和0)，也可以是无符号的类型(正数和0)。

`swift`为我们提供了8位，16位，32位，以及64位的无符号和有符号的整数。这些整数的命名规则和c语言类似。比如说：有无符号的8位整数`UInt8`和有符号的32位整数`Int32`。像`swift`中的其他类型一样,整数类的命名都是大写字母开头。
#### 整数的范围
你可以通过访问整数的最大值属性和最小值属性在确定他们的范围。
```
let minValue = UInt8.min // UInt8的最小值为0
let maxValue = UInt8.max // UInt8的最大值为2
print("minValue of UInt8 is \(minValue) and maxValue of UInt8 is \(maxValue)。")
```
这些属性的值表明了这种类型数据只能在规定范围内进行操作(就像上面`UInt8`的例子),因此同种类型的数据可以在表达式中一起使用。
#### Int
在大多数情况下，在写代码的过程中我们并不需要指定一个长度给`Integer`。`Swift`提供了另外一个整数类型的数据`Int`，它的长度和原生平台的字节数相同。
1. 在32位的平台上，`Int`的长度和`Int32`一致。
2. 在64位的平台上，`Int`的长度和`Int64`一致。

如果你不需要为整型添加特殊的长度处理，用默认的`Int`来实现代码就行。这可以提高代码的一致性和可复用性。甚至是在32位的平台上，他能够储存在`-2`，`147`，`483`，`648`和`2`，`147`，`483`，`647`范围之间的数据，在很多时候这个范围内的数据已经很大了。
#### UInt
`swift`也为我们提供了无符号类型的整型数据。`UInt`和原生平台有着相同长度的字节数。
1. 在32位的平台上，`UInt`的长度和`UInt32`一致。
2. 在64位的平台上，`UInt`的长度和`UInt64`一致。

注意：
尽量不要使用`UInt`,除非你真的需要存储一个和当前原生平台长度相同的字节数的无符号整数时候，如果不是这种情况，建议你最好使用`Int`，即使你要存储的对象已知是非负的。统一使用`Int`提高了代码的一致性和可复用性。避免在不同的数据类型进行转换，并且匹配数字的类型进行判断，具体请参考[类型安全和类型推断](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html#ID322)。
#### 浮点型数据
所谓浮点型数据就是带有小数部分的数据。比如：`3.14258`，`0.1`和`-273.15`。

浮点型所代表值得范围要比整型要更大，它能够储存比整型更小或者更大的值。Swift提供了两种有符号的浮点数类型。
1. `Double`类型代表的64位浮点型数据。
2. `Float`类型代表的32位浮点型数据。

注意：
`Double`类型精度至少为小数点后15位，`Float`类型的精确度仅仅是小数点后6位。
你可以根据自己编程的需要值的范围选择是`Double`类型还是`Float`类型，如果两种条件都满足，优先选择`Double`。
#### 类型安全和类型判断

Swift是一个类型安全的语言，类型安全的语言可以让你清楚的知道你所处理的代码值的类型。如果你代码中需要的是`String`,那么。你如果给它赋值为`Int`类型的数据，那么编译器就会报错。

因为`Swift`是类型安全的语言，所以它在编译的时候会对代码进行类型的检查。这在开发过程中能够帮助你尽可能早的发现和解决问题。

当你在处理不同类型数据的时候，类型检查能够帮助避免一些问题。然而，这并不意味着你在每次声明常量或者变量的时候都需要显示指定类型。如果你没有指定显示类型，那么swift会使用类型判断来为你选择合适的类型。类型判断确保了编译器在编译代码的时候通过检查你赋的值自动推断出表达式的类型。

因为有了类型判断，和c或者c++相比来说，swift很少需要你进行类型声明。常量和变量虽然需要来明确类型，但是大部分工作并不需要你来完成，编译器已经为你完成了。

当你声明一个常量或者变量赋初值的时候类型判断变非常有用。在你声明常量或者变量的时候，赋给它们一个字面量(`literal value`或者`literal`)就能够让编译器自己来进行类型判断。(所谓字面量就是直接出现在代码中的值，比如下面例子中的`42`和`3.14159`。)

例如：如果你给一个新的常量用字面量的形式给它赋值为`42`没有声明它的数据类型，Swift能推断出你要给常量赋一个`Int`类型的数据，因为你在初始化的时候给它赋值了一个像整型的数字。
```
let meaningOfLife = 42
// meaningOfLife will be inferred to be of  type Int  这里常量meaningOfLife 会被便以及推断为一个整型
```
同理，如果你没有给浮点类型的数据标记类型，那么`Swift`会默认类型的`Double`
```
let  pi = 3.14159
// pi will be inferred to be of type Double 这里常量pi会被默认推断为DoubleL类型的数据。
```
当swift在推断浮点型数据的时候，它会默认推断为`Double`类型而不是`Float`类型。

如果你在一个表达式中用整型和浮点型混合计算的时候,在上下文中会被`swift`推断为`Double`类型。
```
let anotherPi = 3 + 0.14159
// anotherPi will be inferred of type Double 这里常量anotherPi会被swift推断为Double类型的数据。
```
初始值3没有给显式声明类型，并且在表达式中出现了一个浮点类型的字面量，所以表达式被推断为`Double`类型。
#### 数值型字面量
整数类型的字面量可以被写作：
1. 一个十进制数，没有前缀
2. 一个二进制数，前缀是`0b`
3. 一个八进制数，前缀是`0o`
4. 一个十六进制数，前缀是`0X`
下面所有的整数型字面量都是代表十进制的值`17`
```
let decimalInteger = 17
let binaryInteger  = 0b10001// 二进制的17 2*2*2*2+1
let octalInteger = 0o21 // 八进制的17 2*8+1*1
let hexadecimalInteger = 0x11 // 十六进制的17 16*1+1
```


